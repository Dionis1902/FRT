<div>
    <div id="reactions-{{ data['name'] }}" class="text-center">
        <input type="checkbox" class="btn-check" id="reaction-all" name="{{ data['name'] }}" value="all" autocomplete="off">
        <label class="btn btn-outline-primary mb-3 me-3" for="reaction-all">All</label>
    </div>
</div>
<script>
    let reaction = {
        'ğŸ‘': 'https://emojigraph.org/media/apple/thumbs-up_1f44d.png',
        'ğŸ˜´': 'https://emojigraph.org/media/apple/sleeping-face_1f634.png',
        'ğŸ˜': 'https://emojigraph.org/media/apple/beaming-face-with-smiling-eyes_1f601.png',
        'ğŸ¤¯': 'https://emojigraph.org/media/apple/exploding-head_1f92f.png',
        'ğŸ¥±': 'https://emojigraph.org/media/apple/yawning-face_1f971.png',
        'ğŸ‘»': 'https://emojigraph.org/media/apple/ghost_1f47b.png',
        'ğŸ¤®': 'https://emojigraph.org/media/apple/face-vomiting_1f92e.png',
        'ğŸ¥°': 'https://emojigraph.org/media/apple/smiling-face-with-hearts_1f970.png',
        'ğŸŒ': 'https://emojigraph.org/media/apple/banana_1f34c.png',
        'ğŸŒ­': 'https://emojigraph.org/media/apple/hot-dog_1f32d.png',
        'ğŸ‘': 'https://emojigraph.org/media/apple/clapping-hands_1f44f.png',
        'ğŸ™': 'https://emojigraph.org/media/apple/folded-hands_1f64f.png',
        'ğŸ’‹': 'https://emojigraph.org/media/apple/kiss-mark_1f48b.png',
        'ğŸ¤¬': 'https://emojigraph.org/media/apple/face-with-symbols-on-mouth_1f92c.png',
        'ğŸƒ': 'https://emojigraph.org/media/apple/jack-o-lantern_1f383.png',
        'ğŸ¤”': 'https://emojigraph.org/media/apple/thinking-face_1f914.png',
        'ğŸ‰': 'https://emojigraph.org/media/apple/party-popper_1f389.png',
        'ğŸ“': 'https://emojigraph.org/media/apple/strawberry_1f353.png',
        'ğŸ¤“': 'https://emojigraph.org/media/apple/nerd-face_1f913.png',
        'ğŸ¤': 'https://emojigraph.org/media/apple/handshake_1f91d.png',
        'ğŸ”¥': 'https://emojigraph.org/media/apple/fire_1f525.png',
        'ğŸ¥´': 'https://emojigraph.org/media/apple/woozy-face_1f974.png',
        'ğŸ˜­': 'https://emojigraph.org/media/apple/loudly-crying-face_1f62d.png',
        'ğŸ¤£': 'https://emojigraph.org/media/apple/rolling-on-the-floor-laughing_1f923.png',
        'ğŸ¤¡': 'https://emojigraph.org/media/apple/clown-face_1f921.png',
        'ğŸ˜': 'https://emojigraph.org/media/apple/smiling-face-with-heart-eyes_1f60d.png',
        'ğŸ˜±': 'https://emojigraph.org/media/apple/face-screaming-in-fear_1f631.png',
        'ğŸ–•': 'https://emojigraph.org/media/apple/middle-finger_1f595.png',
        'âœ': 'https://emojigraph.org/media/apple/writing-hand_270d-fe0f.png',
        'ğŸ˜‡': 'https://emojigraph.org/media/apple/smiling-face-with-halo_1f607.png',
        'ğŸ’¯': 'https://emojigraph.org/media/apple/hundred-points_1f4af.png',
        'ğŸ˜': 'https://emojigraph.org/media/apple/neutral-face_1f610.png',
        'ğŸ˜¨': 'https://emojigraph.org/media/apple/fearful-face_1f628.png',
        'ğŸ«¡': 'https://emojigraph.org/media/apple/saluting-face_1fae1.png',
        'ğŸ¤—': 'https://emojigraph.org/media/apple/hugging-face_1f917.png',
        'ğŸ’”': 'https://emojigraph.org/media/apple/broken-heart_1f494.png',
        'ğŸ‘Œ': 'https://emojigraph.org/media/apple/ok-hand_1f44c.png',
        'ğŸ†': 'https://emojigraph.org/media/apple/trophy_1f3c6.png',
        'ğŸŒš': 'https://emojigraph.org/media/apple/new-moon-face_1f31a.png',
        'ğŸ™ˆ': 'https://emojigraph.org/media/apple/see-no-evil-monkey_1f648.png',
        'â¤': 'https://emojigraph.org/media/apple/red-heart_2764-fe0f.png',
        'â¤\u200dğŸ”¥': 'https://emojigraph.org/media/apple/heart-on-fire_2764-fe0f-200d-1f525.png',
        'ğŸ‘': 'https://emojigraph.org/media/apple/thumbs-down_1f44e.png',
        'âš¡': 'https://emojigraph.org/media/apple/high-voltage_26a1.png',
        'ğŸ¤¨': 'https://emojigraph.org/media/apple/face-with-raised-eyebrow_1f928.png',
        'ğŸ˜¢': 'https://emojigraph.org/media/apple/crying-face_1f622.png',
        'ğŸ’©': 'https://emojigraph.org/media/apple/pile-of-poo_1f4a9.png',
        'ğŸ³': 'https://emojigraph.org/media/apple/spouting-whale_1f433.png',
        'ğŸ‘€': 'https://emojigraph.org/media/apple/eyes_1f440.png',
        'ğŸ¤©': 'https://emojigraph.org/media/apple/star-struck_1f929.png',
        'ğŸ˜ˆ': 'https://emojigraph.org/media/apple/smiling-face-with-horns_1f608.png',
        'ğŸ‘¨â€ğŸ’»': 'https://emojigraph.org/media/apple/man-technologist_1f468-200d-1f4bb.png',
        'ğŸ•Š': 'https://emojigraph.org/media/apple/dove_1f54a-fe0f.png',
        'ğŸ¾': 'https://emojigraph.org/media/apple/bottle-with-popping-cork_1f37e.png',
        'ğŸ…': 'https://emojigraph.org/media/apple/santa-claus_1f385.png',
        'ğŸ’…': 'https://emojigraph.org/media/apple/nail-polish_1f485.png',
        'â˜ƒ': 'https://emojigraph.org/media/apple/snowman-without-snow_26c4.png',
        'ğŸ„': 'https://emojigraph.org/media/apple/christmas-tree_1f384.png',
        'ğŸ¤ª': 'https://emojigraph.org/media/apple/zany-face_1f92a.png',
        'ğŸ†’': 'https://emojigraph.org/media/apple/cool-button_1f192.png',
        'ğŸ—¿': 'https://emojigraph.org/media/apple/moai_1f5ff.png'
    }

    for (let key of Object.keys(reaction)) {
        let e = $(`<input type="checkbox" class="btn-check emoji" id="reaction-${key}" value="${key}" autocomplete="off" name="{{ data['name'] }}">` +
            `<label class="btn btn-outline-primary mb-3 me-3" for="reaction-${key}">` +
            `<img src="${reaction[key]}" style="width: 20px">` +
            '</label>')
        $('#reactions-{{ data['name'] }}').append(e)
    }

    $('[name="{{ data['name'] }}"]').on('click', function (){
        if(this.id === 'reaction-all')
             $('[name="{{ data['name'] }}"]').prop('checked', this.checked)
        else
            $('#reaction-all').prop('checked', $('.emoji').length === $('input:checked.emoji').length);
    })

    data.push({
        name: '{{ data['name'] }}', func: () => {
            let emojis = $('input:checked.emoji')
            if (!emojis.length) {
                alert({message: 'You have not choose any reaction', type: 'danger'})
                return
            }
            if ($('#reaction-all')[0].checked)
                return 'all'

            let result = []
            for (let e of emojis)
                result.push(e.value)

            return result
        }
    })

</script>